{"version":3,"sources":["webpack:///./site/theme/template/layout/Header.jsx"],"names":["utils","Option","initDocSearch","Header","state","menuVisible","handleShowMenu","setState","handleHideMenu","onMenuVisibleChange","visible","handleVersionChange","currentUrl","window","location","href","currentPathname","pathname","replace","origin","url","getLocalizedPathname","getMenus","isMobile","context","menuMode","props","themeConfig","header","docVersions","nav","docVersionList","versionOptions","Object","keys","map","version","module","split","slice","join","activeMenuItem","trigger","parentNode","length","item","key","name","router","listen","searchInput","document","addEventListener","event","keyCode","target","body","focus","headerClassName","clearfix","menu","searchPlaceholder","display","fontSize","ref","React","Component","contextTypes","PropTypes","object","isRequired","bool"],"mappings":"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","file":"7.e657200051d2d35a16ee.hot-update.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'bisheng/router';\nimport classNames from 'classnames';\nimport {\n  Select,\n  Menu,\n  Row,\n  Col,\n  Icon,\n  Popover,\n  Input\n} from 'antd';\nimport * as utils from '../helper/utils';\n\nconst { Option } = Select;\n\n// let docsearch;\n// if (typeof window !== 'undefined') {\n//   docsearch = require('docsearch.js'); // eslint-disable-line\n// }\n\nfunction initDocSearch () {\n  // if (!docsearch) {\n  //   return;\n  // }\n  // const lang = locale === 'zh-CN' ? 'cn' : 'en';\n  // docsearch({\n  //   apiKey: '60ac2c1a7d26ab713757e4a081e133d0',\n  //   indexName: 'ant_design',\n  //   inputSelector: '#search-box input',\n  //   algoliaOptions: { facetFilters: [`tags:${lang}`] },\n  //   transformData(hits) {\n  //     hits.forEach(hit => {\n  //       hit.url = hit.url.replace('ant.design', location.host);\n  //       hit.url = hit.url.replace('https:', location.protocol);\n  //     });\n  //     return hits;\n  //   },\n  //   debug: false // Set debug to true if you want to inspect the dropdown\n  // });\n}\n\nexport default class Header extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n    isMobile: PropTypes.bool.isRequired\n  };\n\n  state = {\n    menuVisible: false\n  };\n\n  componentDidMount () {\n    const { router } = this.context;\n    router.listen(this.handleHideMenu);\n    const { searchInput } = this;\n    document.addEventListener('keyup', event => {\n      if (event.keyCode === 83 && event.target === document.body) {\n        searchInput.focus();\n      }\n    });\n    initDocSearch();\n  }\n\n  handleShowMenu = () => {\n    this.setState({\n      menuVisible: true\n    });\n  };\n\n  handleHideMenu = () => {\n    this.setState({\n      menuVisible: false\n    });\n  };\n\n  onMenuVisibleChange = visible => {\n    this.setState({\n      menuVisible: visible\n    });\n  };\n\n  handleVersionChange = url => {\n    const currentUrl = window.location.href;\n    const currentPathname = window.location.pathname;\n    window.location.href = currentUrl\n      .replace(window.location.origin, url)\n      .replace(currentPathname, utils.getLocalizedPathname(currentPathname));\n  };\n\n  getMenus = () => {\n    const { isMobile } = this.context;\n    const menuMode = isMobile ? 'inline' : 'horizontal';\n    const {\n      location, themeConfig: {\n        header: {\n          docVersions,\n          nav\n        }\n      }\n    } = this.props;\n    const docVersionList = {\n      ...docVersions\n    };\n    const versionOptions = Object.keys(docVersionList).map(version => (\n      <Option value={docVersionList[version]} key={version}>\n        {version}\n      </Option>\n    ));\n    const module = location.pathname\n      .replace(/(^\\/|\\/$)/g, '')\n      .split('/')\n      .slice(0, -1)\n      .join('/');\n    const activeMenuItem = module || 'home';\n    return [\n      <Select\n        key=\"version\"\n        className=\"version\"\n        size=\"small\"\n        dropdownMatchSelectWidth={false}\n        defaultValue=\"0.0.1\"\n        onChange={this.handleVersionChange}\n        getPopupContainer={trigger => trigger.parentNode}\n      >\n        {versionOptions}\n      </Select>,\n      <Menu\n        className=\"menu-site\"\n        mode={menuMode}\n        selectedKeys={[activeMenuItem]}\n        id=\"nav\"\n        key=\"nav\"\n      >\n        {\n          nav && nav.length > 0 ? (\n            nav.map(item => {\n              return (\n                <Menu.Item key={item.key}>\n                  <Link to={utils.getLocalizedPathname(item.href, true)}>\n                    {item.name}\n                  </Link>\n                </Menu.Item>\n              );\n            })\n          ) : (\n            <Menu.Item key=\"index\">\n              <Link to={utils.getLocalizedPathname('/', true)}>\n                首页\n              </Link>\n            </Menu.Item>\n          )\n        }\n      </Menu>\n    ];\n  };\n\n  render () {\n    const { menuVisible } = this.state;\n    const { isMobile } = this.context;\n    const headerClassName = classNames({ clearfix: true });\n    const menu = this.getMenus();\n    const searchPlaceholder = '在文档中搜索';\n    return (\n      <header id=\"header\" className={headerClassName}>\n        {isMobile && (\n          <Popover\n            overlayClassName=\"popover-menu\"\n            placement=\"bottomRight\"\n            content={menu}\n            trigger=\"click\"\n            visible={menuVisible}\n            arrowPointAtCenter\n            onVisibleChange={this.onMenuVisibleChange}\n          >\n            <Icon\n              className=\"nav-phone-icon\"\n              type=\"menu\"\n              onClick={this.handleShowMenu}\n            />\n          </Popover>\n        )}\n        <Row>\n          <Col xxl={4} xl={5} lg={5} md={6} sm={24} xs={24}>\n            <Link to={utils.getLocalizedPathname('/', true)} id=\"logo\">\n              <h4 style={{ display: 'inline-block', fontSize: '18px' }}>React-Map</h4>\n            </Link>\n          </Col>\n          <Col xxl={20} xl={19} lg={19} md={18} sm={0} xs={0}>\n            <div id=\"search-box\">\n              <Icon type=\"search\" />\n              <Input\n                ref={ref => (this.searchInput = ref)}\n                placeholder={searchPlaceholder}\n              />\n            </div>\n            {!isMobile && menu}\n          </Col>\n        </Row>\n      </header>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./site/theme/template/layout/Header.jsx"],"sourceRoot":""}